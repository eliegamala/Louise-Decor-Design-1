# Use DecapBridge classic auth (required)
backend:
  name: git-gateway
  branch: main
  identity_url: https://auth.decapbridge.com/sites/27acc04f-150d-4363-8182-f0171c457056
  gateway_url: https://gateway.decapbridge.com

  # See who did what (optional)
  commit_messages:
    create: Create {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    update: Update {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    delete: Delete {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    uploadMedia: Upload “{{path}}” - {{author-name}} <{{author-login}}> via DecapBridge
    deleteMedia: Delete “{{path}}” - {{author-name}} <{{author-login}}> via DecapBridge
    openAuthoring: Message {{message}} - {{author-name}} <{{author-login}}> via DecapBridge

logo_url: https://decapbridge.com/decapcms-with-bridge.svg
site_url: https://louise-decor-and-design.netlify.app

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

publish_mode: editorial_workflow

collections:
  - label: "Pages"
    name: "pages"
    files:
      - label: "Home Content"
        name: "home"
        file: "content/home.json"
        fields:
          - label: Hero
            name: hero
            widget: object
            fields:
              - { label: Kicker, name: kicker, widget: string, required: false }
              - { label: Title, name: title, widget: string, required: false }
              - { label: Blurb, name: blurb, widget: text, required: false }
              - { label: Image, name: image, widget: image }
              - { label: Background Class, name: bgClassName, widget: string, required: false }
              - { label: Primary Link, name: primaryHref, widget: string }
              - { label: Primary Label, name: primaryLabel, widget: string, required: false, default: "See our work" }
              - { label: Secondary Link, name: secondaryHref, widget: string, required: false }
              - { label: Secondary Label, name: secondaryLabel, widget: string, required: false, default: "How we work" }
              - label: Highlights
                name: highlights
                widget: list
                required: false
                fields:
                  - { label: Title, name: title, widget: string }
                  - { label: Text, name: text, widget: string }

          - label: Testimonials Settings
            name: testimonialsMeta
            widget: object
            required: false
            fields:
              - { label: Heading, name: heading, widget: string, required: false }

          - label: Testimonials
            name: testimonials
            widget: list
            fields:
              - { label: Image, name: src, widget: image }
              - { label: Quote, name: quote, widget: text }

          - label: Parallax Section
            name: parallax
            widget: object
            fields:
              - { label: Background Image, name: image, widget: image }
              - label: Cards
                name: cards
                widget: list
                fields:
                  - { label: Title, name: title, widget: string }
                  - { label: Body, name: text, widget: text }
                  - { label: Button Label, name: ctaLabel, widget: string, required: false }
                  - { label: Link, name: href, widget: string }
                  - { label: Variant (primary/ghost), name: variant, widget: string, default: ghost }

          # UPDATED: About Me now fully CMS-driven
          - label: About Me
            name: about
            widget: object
            fields:
              # Images + alts
              - { label: Hero Image, name: hero, widget: image }
              - { label: Hero Alt, name: heroAlt, widget: string, required: false }
              - { label: Detail Image 1, name: detail1, widget: image, required: false }
              - { label: Detail 1 Alt, name: detail1Alt, widget: string, required: false }
              - { label: Detail Image 2, name: detail2, widget: image, required: false }
              - { label: Detail 2 Alt, name: detail2Alt, widget: string, required: false }
              - { label: Headshot (optional), name: headshot, widget: image, required: false }
              - { label: Headshot Alt, name: headshotAlt, widget: string, required: false }

              # Copy
              - { label: Heading, name: heading, widget: string, required: false, default: "About me" }
              - { label: Intro, name: intro, widget: text, required: false }
              - label: Highlights
                name: highlights
                widget: list
                required: false
                fields:
                  - { label: Title, name: title, widget: string, required: false }
                  - { label: Text, name: text, widget: text, required: false }
              - { label: Quote, name: quote, widget: string, required: false }

              # Buttons
              - { label: Primary Label, name: primaryLabel, widget: string, required: false, default: "See my work" }
              - { label: Primary Link, name: primaryHref, widget: string, required: false, default: "/portfolio" }
              - { label: Secondary Label, name: secondaryLabel, widget: string, required: false, default: "How I work" }
              - { label: Secondary Link, name: secondaryHref, widget: string, required: false, default: "/process" }

          - label: Featured Project
            name: featured
            widget: object
            fields:
              - { label: Title, name: title, widget: string }
              - { label: Body, name: body, widget: text }
              - { label: Main Image, name: mainImage, widget: image }
              - { label: Secondary Image, name: secondaryImage, widget: image }
              - { label: Key Moves Label, name: keyMovesTitle, widget: string, required: false, default: "Key moves" }
              - label: Key Moves
                name: keyMoves
                widget: list
                field: { label: Item, name: item, widget: string }
              - { label: CTA Label, name: ctaLabel, widget: string, required: false, default: "View project" }
              - { label: CTA Link, name: ctaHref, widget: string }

          - label: Services
            name: services
            widget: list
            fields:
              - { label: Title, name: title, widget: string }
              - { label: Body, name: body, widget: text }
              - { label: Emphasis (optional), name: emphasis, widget: boolean, required: false }

          - label: Services Settings
            name: servicesMeta
            widget: object
            fields:
              - { label: Heading, name: heading, widget: string, required: false, default: "Services at a glance" }
              - { label: CTA Label, name: ctaLabel, widget: string, required: false, default: "Start a project" }
              - { label: CTA Link, name: ctaHref, widget: string, required: false, default: "/contact" }

          - label: Services Side Image
            name: servicesImage
            widget: object
            fields:
              - { label: Image, name: src, widget: image }
              - { label: Alt, name: alt, widget: string }

      - label: "Art"
        name: "art"
        file: "content/art.json"
        fields:
          - label: SEO
            name: seo
            widget: object
            required: false
            fields:
              - { label: Title, name: title, widget: string, required: false }
              - { label: Description, name: description, widget: text, required: false }
          - { label: Heading, name: heading, widget: string, required: false }
          - { label: Intro, name: intro, widget: text, required: false }

      - label: "Contact"
        name: "contact"
        file: "content/contact.json"
        fields:
          - label: SEO
            name: seo
            widget: object
            required: false
            fields:
              - { label: Title, name: title, widget: string, required: false }
              - { label: Description, name: description, widget: text, required: false }
          - { label: Heading, name: heading, widget: string, required: false }
          - { label: Intro, name: intro, widget: text, required: false }

      - label: "Portfolio"
        name: "portfolio"
        file: "content/portfolio.json"
        fields:
          - label: SEO
            name: seo
            widget: object
            required: false
            fields:
              - { label: Title, name: title, widget: string, required: false }
              - { label: Description, name: description, widget: text, required: false }
          - { label: Heading, name: heading, widget: string, required: false }
          - { label: Intro, name: intro, widget: text, required: false }

      - label: "Process"
        name: "process"
        file: "content/process.json"
        fields:
          - label: SEO
            name: seo
            widget: object
            required: false
            fields:
              - { label: Title, name: title, widget: string, required: false }
              - { label: Description, name: description, widget: text, required: false }
          - { label: Heading, name: heading, widget: string, required: false }
          - { label: Intro, name: intro, widget: text, required: false }
          - label: Steps
            name: steps
            widget: list
            fields:
              - { label: Title, name: title, widget: string }
              - { label: Body, name: body, widget: text }
              - { label: Image, name: image, widget: image, required: false }

  # ✅ Correctly nested inside the collections list
  - label: "Projects"
    name: "projects"
    folder: "content/portfolio"
    create: true
    slug: "{{slug}}"
    extension: "json"
    identifier_field: id
    filter:
      field: __is_page_shell
      value: false
    fields:
      - { label: ID (slug), name: id, widget: string, hint: "Unique ID used in URLs and keys." }
      - { label: Title, name: title, widget: string }
      - { label: Subtext, name: subtext, widget: string, required: false }
      - { label: Cover Image, name: cover, widget: image }
      - label: Images
        name: images
        widget: list
        required: false
        field: { label: Image, name: image, widget: image }
      - { label: Description, name: description, widget: text, required: false }
      - label: Meta
        name: meta
        widget: list
        required: false
        fields:
          - { label: Label, name: key, widget: string }
          - { label: Value, name: value, widget: string }
